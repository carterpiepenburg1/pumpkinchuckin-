[gd_scene load_steps=35 format=3 uid="uid://cnfyj80sfpkq3"]

[ext_resource type="Script" uid="uid://b0arcax67joif" path="res://Scripts/initializevr.gd" id="1_ua3oe"]
[ext_resource type="Texture2D" uid="uid://ujlhjpujhisj" path="res://Resources/Textures/sky.png" id="2_3n5g3"]
[ext_resource type="Script" uid="uid://blp7t2rm6f3sg" path="res://Scripts/Player/player.gd" id="2_c37g7"]
[ext_resource type="Script" uid="uid://yripqjx66c00" path="res://Scripts/game_manager.gd" id="2_yqnnc"]
[ext_resource type="Script" uid="uid://dnxoog51swnsj" path="res://Scripts/Player/hand.gd" id="3_gfff3"]
[ext_resource type="AudioStream" uid="uid://cvkwc6kidc7cb" path="res://Resources/Sounds/Wind Through Trees Ambience (Loopable)/wind-in-trees-117477.mp3" id="3_iswhu"]
[ext_resource type="AudioStream" uid="uid://e65en85qwfjc" path="res://Resources/Sounds/Background Music/758021__audiocoffee__halloween-time-loop-ver.wav" id="4_cdyhi"]
[ext_resource type="PackedScene" uid="uid://cy6tf6pp8tta6" path="res://Scenes/Objects/vine.tscn" id="5_8o4mi"]
[ext_resource type="Script" uid="uid://cf6yojo8rcx4y" path="res://Scripts/Slingshot/slingshot.gd" id="6_8o4mi"]
[ext_resource type="Texture2D" uid="uid://sntfeilnq72k" path="res://Resources/Textures/grass.jpg" id="6_ebto2"]
[ext_resource type="AudioStream" uid="uid://b0v00satwso4e" path="res://Resources/Sounds/Grab/704749__err0rc0de__grab-item.wav" id="8_0u05k"]
[ext_resource type="Script" uid="uid://ddpj0xomrl5eg" path="res://Scripts/Sign Score/sign.gd" id="9_yqnnc"]
[ext_resource type="PackedScene" uid="uid://dtpvk2ebxbr0i" path="res://Resources/models/scarecrow.glb" id="10_iswhu"]
[ext_resource type="PackedScene" uid="uid://mhwbp1pgrke0" path="res://Resources/models/slingshot.glb" id="11_0u05k"]
[ext_resource type="PackedScene" uid="uid://87tgxsm8bg3l" path="res://Resources/models/crow.glb" id="12_0ryyh"]
[ext_resource type="AudioStream" uid="uid://b6ky6cuao6ou4" path="res://Resources/Sounds/Slingshot Loaded/editedLoad.wav" id="12_0ryyh"]
[ext_resource type="AudioStream" uid="uid://b6hjbr7jqjyv4" path="res://Resources/Sounds/Slingshot Release/editedRelease.wav" id="13_3n3ex"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_ebto2"]
panorama = ExtResource("2_3n5g3")

[sub_resource type="Sky" id="Sky_yqnnc"]
sky_material = SubResource("PanoramaSkyMaterial_ebto2")

[sub_resource type="Environment" id="Environment_2t1jq"]
background_mode = 2
background_color = Color(0.76037085, 0.97431797, 0.9702292, 1)
sky = SubResource("Sky_yqnnc")
fog_sun_scatter = 0.1
fog_density = 0.025

[sub_resource type="SphereShape3D" id="SphereShape3D_gfff3"]
radius = 0.049555775

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yqnnc"]
albedo_color = Color(1, 0.62, 0.62, 1)
albedo_texture = ExtResource("6_ebto2")
uv1_scale = Vector3(100, 100, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0u05k"]
albedo_color = Color(7.2196127e-07, 0.4493385, 4.813075e-07, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0ryyh"]
albedo_color = Color(0, 0.4509804, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3n3ex"]
albedo_color = Color(0, 0.4509804, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4ixpx"]
albedo_color = Color(0, 0.4509804, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6di5v"]
albedo_color = Color(0.65891117, 1.9131974e-06, 5.2943824e-07, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b176m"]
albedo_color = Color(0.34103164, 0.2692149, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8o4mi"]
albedo_color = Color(0.35095242, 0.15484291, 0.07356518, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3n5g3"]
albedo_color = Color(0.5019608, 0.25882354, 0, 1)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_8o4mi"]
height = 0.5
radius = 0.3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ebto2"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.4627451)

[sub_resource type="Curve3D" id="Curve3D_ebto2"]

[sub_resource type="CylinderMesh" id="CylinderMesh_ebto2"]

[sub_resource type="CylinderMesh" id="CylinderMesh_yqnnc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iswhu"]
albedo_color = Color(0.700176, 0.38988283, 0.015236197, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cdyhi"]
albedo_color = Color(0.5190005, 0.28110364, 0.008074824, 1)

[node name="Node3D" type="Node3D"]
script = ExtResource("1_ua3oe")

[node name="GameManager" type="Node3D" parent="."]
script = ExtResource("2_yqnnc")

[node name="AdvanceTimer" type="Timer" parent="GameManager"]
wait_time = 5.0

[node name="RoundTimer" type="Timer" parent="GameManager"]

[node name="Ambience" type="AudioStreamPlayer" parent="GameManager"]
stream = ExtResource("3_iswhu")
volume_db = -15.0
autoplay = true
parameters/looping = true

[node name="Music" type="AudioStreamPlayer" parent="GameManager"]
stream = ExtResource("4_cdyhi")
volume_db = -15.0
autoplay = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.08686353, 0.8868179, -0.45388195, -0.15191406, 0.46206695, 0.873737, 0.9845694, -0.006944829, 0.17485687, 0, 5.125532, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_2t1jq")

[node name="Player" type="XROrigin3D" parent="."]
transform = Transform3D(0.99999976, 0, 0, 0, 1, 0, 0, 0, 0.99999976, 0, 0.123353, 0)
script = ExtResource("2_c37g7")

[node name="XRCamera3D" type="XRCamera3D" parent="Player"]
transform = Transform3D(1.0000002, 0, 0, 0, 1, 0, 0, 0, 1.0000002, 0, 1.3581047, 0)
far = 400.0

[node name="Left" type="XRController3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, -0.5)
tracker = &"left_hand"
script = ExtResource("3_gfff3")

[node name="LeftModel" type="CSGSphere3D" parent="Player/Left"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)

[node name="Area" type="Area3D" parent="Player/Left"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/Left/Area"]
shape = SubResource("SphereShape3D_gfff3")

[node name="LeftGrabSound" type="AudioStreamPlayer3D" parent="Player/Left"]
stream = ExtResource("8_0u05k")
volume_db = -10.0

[node name="Right" type="XRController3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1, -0.5)
tracker = &"right_hand"
script = ExtResource("3_gfff3")

[node name="RightModel" type="CSGSphere3D" parent="Player/Right"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)

[node name="Area" type="Area3D" parent="Player/Right"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/Right/Area"]
shape = SubResource("SphereShape3D_gfff3")

[node name="RightGrabSound" type="AudioStreamPlayer3D" parent="Player/Right"]
stream = ExtResource("8_0u05k")
volume_db = -10.0

[node name="Environment" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
size = Vector3(200, 1, 200)
material = SubResource("StandardMaterial3D_yqnnc")

[node name="Vine" parent="Environment" instance=ExtResource("5_8o4mi")]
transform = Transform3D(-0.5, 0, -7.54979e-08, 0, 0.5, 0, 7.54979e-08, 0, -0.5, 1.7, 0, 0)

[node name="Vine3" parent="Environment" instance=ExtResource("5_8o4mi")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -1.7, 0, 0)

[node name="Treeline" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, -20)
material_override = SubResource("StandardMaterial3D_0u05k")
size = Vector3(80, 10, 1)

[node name="LeftTreeline" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.908644, 5, 17.792053)
material_override = SubResource("StandardMaterial3D_0ryyh")
size = Vector3(1, 10, 99.58411)

[node name="RightTreeline" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 31.695984, 5, 19.072021)
material_override = SubResource("StandardMaterial3D_3n3ex")
size = Vector3(1, 10, 85.58252)

[node name="BackTreeline" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5578003, 5, 58.12391)
size = Vector3(71.37537, 10, 1)
material = SubResource("StandardMaterial3D_4ixpx")

[node name="Barn" type="CSGBox3D" parent="Environment"]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -14.012964, 3.0339003, 14.976358)
size = Vector3(16.888184, 8, 20)
material = SubResource("StandardMaterial3D_6di5v")

[node name="MainField" type="CSGBox3D" parent="Environment"]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 12, 0.28124, 29.484943)
material_override = SubResource("StandardMaterial3D_b176m")
size = Vector3(35, 1, 57.465942)

[node name="SmallField" type="CSGBox3D" parent="Environment"]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -16.120764, 0.3201046, 40.859116)
material_override = SubResource("StandardMaterial3D_b176m")
size = Vector3(25, 1, 25.76477)

[node name="Slingshot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.89874977)
script = ExtResource("6_8o4mi")

[node name="RightLog" type="CSGCylinder3D" parent="Slingshot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0.75, 0)
material_override = SubResource("StandardMaterial3D_8o4mi")
radius = 0.1
height = 1.5

[node name="LeftLog" type="CSGCylinder3D" parent="Slingshot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0.75, 0)
material_override = SubResource("StandardMaterial3D_8o4mi")
radius = 0.1
height = 1.5

[node name="Sling" type="CSGTorus3D" parent="Slingshot"]
transform = Transform3D(1, 0, 0, 0, -0.64278764, -0.76604444, 0, 0.76604444, -0.64278764, 0, 1.2, 0)
material_override = SubResource("StandardMaterial3D_3n5g3")
inner_radius = 0.22
outer_radius = 0.3
sides = 20
ring_sides = 10

[node name="SlingArea" type="Area3D" parent="Slingshot/Sling"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.12365246, 0.01870814)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Slingshot/Sling/SlingArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.08105409, -0.011571914)
shape = SubResource("CylinderShape3D_8o4mi")

[node name="leftRopeConnect" type="Node3D" parent="Slingshot/Sling"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0, 0)

[node name="rightRopeConnect" type="Node3D" parent="Slingshot/Sling"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0, 0)

[node name="LoadSound" type="AudioStreamPlayer3D" parent="Slingshot/Sling"]
stream = ExtResource("12_0ryyh")
volume_db = -10.0

[node name="ShootSound" type="AudioStreamPlayer3D" parent="Slingshot/Sling"]
stream = ExtResource("13_3n3ex")
volume_db = -25.0

[node name="Target" type="CSGTorus3D" parent="Slingshot"]
visible = false
material_override = SubResource("StandardMaterial3D_ebto2")
inner_radius = 0.8
sides = 20
ring_sides = 10

[node name="ArcPrediction" type="Path3D" parent="Slingshot"]
curve = SubResource("Curve3D_ebto2")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Slingshot/ArcPrediction"]
polygon = PackedVector2Array(-0.05, -0.05, -0.05, 0.05, 0.05, 0.05, 0.05, -0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = true
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = SubResource("StandardMaterial3D_ebto2")

[node name="LeftRope" type="MeshInstance3D" parent="Slingshot"]
visible = false
material_override = SubResource("StandardMaterial3D_3n5g3")
mesh = SubResource("CylinderMesh_ebto2")

[node name="RightRope" type="MeshInstance3D" parent="Slingshot"]
visible = false
material_override = SubResource("StandardMaterial3D_3n5g3")
mesh = SubResource("CylinderMesh_yqnnc")

[node name="Sign-Post" type="Node3D" parent="."]
transform = Transform3D(0.98451245, 0, 0.17531517, 0, 1, 0, -0.17531517, 0, 0.98451245, -0.8324139, 0.6181954, -4.04626)

[node name="CSGBox3D" type="CSGBox3D" parent="Sign-Post"]
transform = Transform3D(1, 0, -9.313226e-09, 0, 0.6, 0, 7.4505806e-08, 0, 0.125, 0, -0.009173572, 0)
material_override = SubResource("StandardMaterial3D_iswhu")
size = Vector3(1, 1.2046509, 1)

[node name="CSGBox3D2" type="CSGBox3D" parent="Sign-Post"]
transform = Transform3D(0.1, 0, 0, 0, 1, 0, 0, 0, 0.1, 0, -0.7298831, 0)
material_override = SubResource("StandardMaterial3D_cdyhi")

[node name="Label3D" type="Label3D" parent="Sign-Post"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.11510253)
text = "Round: 1
Score: 
0
"
script = ExtResource("9_yqnnc")

[node name="scarecrow" parent="." instance=ExtResource("10_iswhu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.16074143, 2.833776, -10.187281)

[node name="slingshot" parent="." instance=ExtResource("11_0u05k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2358522, 0, -7.314122)

[node name="crow" parent="." instance=ExtResource("12_0ryyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.0697036, 1.0135708, -6.2147727)

[connection signal="timeout" from="GameManager/AdvanceTimer" to="GameManager" method="_on_advance_timer_timeout"]
[connection signal="timeout" from="GameManager/RoundTimer" to="GameManager" method="_on_round_timer_timeout"]
[connection signal="button_pressed" from="Player/Left" to="Player" method="_on_left_button_pressed"]
[connection signal="button_released" from="Player/Left" to="Player" method="_on_left_button_released"]
[connection signal="button_pressed" from="Player/Right" to="Player" method="_on_right_button_pressed"]
[connection signal="button_released" from="Player/Right" to="Player" method="_on_right_button_released"]
[connection signal="area_entered" from="Slingshot/Sling/SlingArea" to="Slingshot" method="_on_sling_area_area_entered"]
